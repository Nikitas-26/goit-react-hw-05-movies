"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[81],{81:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(152),a=n(791),o=n(523),c=n(271),i=function(e){return fetch("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/credits?api_key=").concat("9d937840155fed7dbbacadae55ee336e","&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(e){return console.log(e)}))},s=n(184),l=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],l=(0,c.UO)().movieId;return(0,a.useEffect)((function(){i(l).then((function(e){return o(e.cast)}))}),[l]),(0,s.jsx)("ul",{className:"cast",children:n.map((function(e){return(0,s.jsxs)("li",{className:"castItem",children:[(0,s.jsx)("img",{width:"250px",src:"https://image.tmdb.org/t/p/w400/".concat(e.profile_path)}),(0,s.jsx)("p",{children:e.name}),(0,s.jsx)("p",{children:e.character})]},e.id)}))})},u=function(e){return fetch("".concat("https://api.themoviedb.org/3/movie/").concat(e,"/reviews?api_key=").concat("9d937840155fed7dbbacadae55ee336e","&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(e){return console.log(e)}))},h=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],i=(0,c.UO)().movieId;return(0,a.useEffect)((function(){u(i).then((function(e){return o(e.results)}))}),[i]),n.length?(0,s.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(e){return(0,s.jsxs)("li",{children:[(0,s.jsx)("h2",{children:e.author}),(0,s.jsx)("p",{children:e.content})]},e.id)}))}):(0,s.jsx)("h2",{children:"We dont have any reviews for this movie."})},d=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=9d937840155fed7dbbacadae55ee336e&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).catch((function(e){return console.log(e)}))},f=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],i=t[1],u=(0,c.UO)(),f=(0,c.k6)();console.log(f);var m=u.movieId;(0,a.useEffect)((function(){d(m).then((function(e){return i(e)}))}),[m]);var v="https://image.tmdb.org/t/p/w400/".concat(n.poster_path),p=n.genres,j=(0,c.TH)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:function(){f.push(j.state.location)},children:"Go back"}),(0,s.jsxs)("div",{className:"wrapp",children:[(0,s.jsx)("img",{src:v,alt:n.title,className:"img"}),(0,s.jsxs)("div",{className:"disc",children:[(0,s.jsxs)("div",{className:"titleWrap",children:[(0,s.jsx)("h2",{className:"title",children:n.title}),(0,s.jsxs)("p",{className:"peshka",children:["(",n.release_date,")"]})]}),(0,s.jsxs)("p",{className:"userScore",children:["User Score: ",n.vote_average]}),(0,s.jsx)("b",{children:"DESCRIPTION:"}),(0,s.jsx)("p",{className:"userOverview",children:n.overview}),(0,s.jsx)("b",{children:"GENRES:"}),(0,s.jsx)("ul",{className:"genres",children:null===p||void 0===p?void 0:p.map((function(e){return(0,s.jsx)("li",{className:"genre",children:e.name},e.id)}))})]})]}),(0,s.jsx)(o.rU,{className:"link",to:{pathname:"/movies/".concat(m,"/cast"),state:{location:j.state.location}},children:"Cast"}),(0,s.jsx)(o.rU,{className:"link",to:{pathname:"/movies/".concat(m,"/reviews"),state:{location:j.state.location}},children:"Reviews"}),(0,s.jsxs)(c.rs,{children:[(0,s.jsx)(c.AW,{path:"/movies/:movieId/cast",component:l}),(0,s.jsx)(c.AW,{path:"/movies/:movieId/reviews",component:h})]})]})}},152:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(s){i=!0,a=s}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=81.d9c9b49b.chunk.js.map